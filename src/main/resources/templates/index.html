<!doctype html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>LAFESTA</title>
    <link rel="icon" href="/images/logo1.png" type="image/x-icon">

    <script src="/js/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/slides.min.js" type="text/javascript"></script>
    <script src="/js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>

    <link href="/css/slides.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" as="font"
          href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,600,700|Material+Icons"/>
    <link rel="stylesheet" href="/css/post.css">
    <link rel="stylesheet" href="/css/main.css">
</head>

<body class="slides horizontal simplifiedMobile animated">

<nav class="panel top">
    <div class="sections desktop">
        <div class="left">
            <a href="/" title="Slides Framework">
                <img src="/images/logo-s1.png" width="270" height="240" alt="lafesta logo">
            </a>
        </div>
        <div class="center">
            <ul class="menu">
                <li><a href="/">Home</a></li>
                <li><a href="#videos">Festival Map</a></li>
                <li><a href="#features">Festival</a></li>
                <li><a href="#case">Ranking</a></li>
                <li><a href="#pricing">Tag</a></li>
                <li><a href="#download">My Page</a></li>
            </ul>
        </div>
        <div class="right">
            <a id="loginButton" class="button blue gradient" href="/api/users/login-page" style="display:none;">로그인</a>
            <form id="logoutForm" method="get" action="/api/users/logout" style="display:none;">
                <button class="button green gradient" type="submit">로그아웃</button>
            </form>
        </div>

    </div>
    <div class="sections compact hidden">
        <div class="left"><a href="/" title="Slides Framework"></a></div>
        <div class="right">
            <span class="button actionButton sidebarTrigger" data-sidebar-id="1">
                <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu"></use></svg>
            </span>
        </div>
    </div>
</nav>

<!-- 상단 바 -->
<nav class="sidebar" data-sidebar-id="1">
    <div class="content">
        <a href="/" class="logo">
            <svg width="37" height="30">
                <use xmlns:xlink="http://www.w3.org/1999/xlink" src="/"></use>
            </svg>
        </a>
        <ul class="mainMenu margin-top-3">
            <li><a href="/">Home</a></li>
            <li><a href="#lafestamap">Festival Map</a></li>
            <li><a href="#festival">Festival</a></li>
            <li><a href="#rank">Ranking</a></li>
            <li><a href="#tag">Tag</a></li>
            <li><a href="#mypage">My Page</a></li>
        </ul>
    </div>
</nav>

<!-- 메인 페이지 -->
<section class="slide fade-6 kenBurns">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-12-12">
                    <ul class="flex fixedSpaces verticalCenter reverse">
                        <li class="col-6-12 left middle">
                            <h1 class="ae-1 fromLeft">모든 축제의 시작과 끝 LAFESTA</h1>
                            <p class="ae-2 fromLeft"><span class="opacity-8">라페스타와 함께 당신의 매일을 축제와 함께하세요.</span>
                            </p>
                            <a id="myButton7" class="button blue gradient ae-3 fromCenter cropLeft"
                               href="/api/users/festivals-map">축제
                                찾으러가기</a><a
                                class="button white ae-4 fromCenter" href="/">축제참여 인증하기</a>
                        </li>
                        <li class="col-6-12">
                            <img class="ae-4" width="605" src="/images/logo6.png" alt="iPhones Thumbnail"
                                 data-action="zoom"/>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="background" style="background-image:url(/images/background/img-3.jpg)"></div>
</section>

<!-- 페스티벌 맵? -->
<section class="slide fade-6 kenBurns" data-name="videos">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-10-12">
                    <h1 class="ae-1">
                        추후 추가 수정</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="background" style="background-image:url(/images/background/img-15.jpg)"></div>
</section>

<!--페스티벌 랭킹-->
<div class="popup autoplay" data-popup-id="60-1">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-10-12">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="popup autoplay" data-popup-id="60-2">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-10-12">

                </div>
            </div>
        </div>
    </div>
</div>

<div class="popup autoplay" data-popup-id="60-3">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-10-12">

                </div>
            </div>
        </div>
    </div>
</div>

<!-- 페스티벌 리스트 -->
<section class="slide fade-6 kenBurns" data-name="features">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <h1 class="ae-2 fromRight">Festival List</h1>
                <div class="board">
                    <ul class="post-list">
                        <div id="table">
                            <table>
                                <thead>
                                <tr>
                                    <th class="no" scope="col">No.</th>
                                    <th class="title" scope="col">Festival name</th>
                                    <th class="author" scope="col">Location</th>
                                    <th class="time" scope="col">Date</th>
                                </tr>
                                </thead>
                                <tbody id="festival-table-body">
                                <tr th:each="festival, festivalStat : ${festivals}">
                                    <td th:text="${festivalStat.index + 1}"></td> <!-- 번호 -->
                                    <td th:text="${festival.name}"></td> <!-- 페스티벌 이름 -->
                                    <td th:text="${festival.location}"></td> <!-- 위치 -->
                                    <td th:text="${festival.openDate} + ' - ' + ${festival.endDate}"></td> <!-- 날짜 -->
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </ul>
                    <!-- 페이지 네비게이션 -->
                    <div class="pagination" id="pagination">
                        <a href="?page=1">1</a>
                        <a href="?page=2">2</a>
                        <a href="?page=3">3</a>
                        <a href="?page=4">4</a>
                        <a href="?page=5">5</a>
                        <a href="?page=6">(쪽수설정)</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="background" style="background-image:url(/images/background/img-7.jpg)"></div>
</section>

<!-- 랭킹 페이지 -->
<section class="slide fade-6 kenBurns" data-name="case">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-12-12">
                    <ul class="grid">
                        <li class="col-6-12 left">
                            <h1 class="ae-2 fromLeft">Ranking</h1>
                            <p class="ae-3 fromLeft"><span class="opacity-8">이번 시즌의 페스티벌 순위와 베스트 리뷰, 그리고 가장 많은 팔로우를 얻은 인플루언서 랭킹을 확인하세요.</span>
                            </p>
                            <ul class="tabs controller uppercase bold ae-4 fromCenter" data-slider-id="60-1">
                                <li class="selected">Best Festival</li>
                                <li>Best Review</li>
                                <li>Best Influencer</li>
                            </ul>
                        </li>
                        <li class="col-6-12 left ae-5 fromCenter">
                            <ul class="slider animated margin-top-4" data-slider-id="60-1">
                                <li class="selected fromCenter">
                                    <div class="popupTrigger videoThumbnail shadow rounded" data-popup-id="">
                                        <img id="myButton3" class="wide" src="/images/best1.jpg" alt=""/>
                                    </div>
                                </li>
                                <li class="fromCenter">
                                    <div class="popupTrigger videoThumbnail shadow rounded" data-popup-id="">
                                        <img id="myButton4" class="wide" src="/images/best2.jpg" alt=""/>
                                    </div>
                                </li>
                                <li class="fromCenter">
                                    <div class="popupTrigger videoThumbnail shadow rounded" data-popup-id="">
                                        <img id="myButton5" class="wide" src="/images/best3.png" alt=""/>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="background" style="background-image:url(/images/background/img-6.jpg)"></div>
</section>

<!-- 태그 검색 -->
<section class="slide fade-6 kenBurns" data-name="pricing">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-6-12">
                    <h1 class="huge ae-1 margin-bottom-2">Festival Tag Categorization</h1>
                    <p class="hero ae-2 margin-bottom-3"><span
                            class="opacity-8">태그로 원하는 페스티벌을 찾아보세요.</span></p>
                    <form action="/" autocomplete="off" class="slides-form margin-bottom-3">
                        <input type="text" class="ae-3" name="tag" placeholder="Festival Tag"/>
                        <button id="getTagsBtn" type="submit" class="button blue gradient ae-4" name="submit">Search for
                            Tags
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="background" style="background-image:url(/images/background/img-10.jpg)"></div>
</section>

<!-- 마이 페이지 -->
<section class="slide fade-6 kenBurns" data-name="download">
    <div class="content">
        <div class="container">
            <div class="wrap">
                <div class="fix-12-12 toCenter">
                    <div class="fix-7-12">
                        <p class="margin-bottom-2 ae-1"><span class="opacity-6">Profile Page</span></p>
                        <h1 class="ae-2 huge fromAbove margin-bottom-2">프로필 페이지</h1>
                        <a id="myButton1" href="/api/users/profile" class="button green gradient ae-3">My 프로필</a>
                        <a id="myButton2" href="/api/users/badge" class="button green gradient ae-3">보유 벳찌</a>
                        <a id="myButton" href="/api/users/profile/followings-page" class="button green gradient ae-3">팔로우 List</a>
                    </div>
                    <ul class="grid fixedSpaces left margin-top-10">
                        <li class="col-3-12 col-tablet-1-2 col-phablet-1-1 ae-4 fromLeft">
                            <h3>대표 벳찌</h3>
                            <div class="image-container">
                                <img src="/images/logo-s3.png" alt="이미지 설명">
                            </div>
                            <p class="tiny opacity-6">라페스타 개근벳찌</p>
                        </li>
                        <li class="col-3-12 col-tablet-1-2 col-phablet-1-1 ae-5 fromLeft">
                            <h3>내가 쓴 리뷰</h3>
                            <p class="tiny opacity-6">내용</p>
                        </li>
                        <li class="col-3-12 col-tablet-1-2 col-phablet-1-1 ae-6 fromLeft">
                            <h3>페스티벌 팔로워 List</h3>
                            <p class="tiny opacity-6">-팔로워 리스트-</p>
                        </li>
                        <li class="col-3-12 col-tablet-1-2 col-phablet-1-1 ae-7 fromLeft">
                            <h3>유저 팔로우 List</h3>
                            <p class="tiny opacity-6">-팔로우 리스트-</p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="background" style="background-image:url(/images/background/img-8.jpg)"></div>
</section>

<script>
    $(document).ready(function() {
        $.ajax({
            url: '/api/festivals',
            type: 'GET',
            dataType: 'json',
            success: function(data) {
                var tbody = $("#festival-table-body");
                tbody.empty(); // 기존 데이터 삭제
                $.each(data, function(index, festival) {
                    var row = $("<tr>");
                    row.append($("<td>").text(index + 1));
                    row.append($("<td>").text(festival.name));
                    row.append($("<td>").text(festival.location));
                    row.append($("<td>").text(festival.openDate + ' - ' + festival.endDate));
                    tbody.append(row);
                });
            },
            error: function(error) {
                console.log("Error fetching data", error);
            }
        });
    });
</script>
</body>
</html>